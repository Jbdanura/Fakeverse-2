(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[662],{5831:(e,a,t)=>{Promise.resolve().then(t.bind(t,3628)),Promise.resolve().then(t.bind(t,3644))},3644:(e,a,t)=>{"use strict";t.d(a,{SettingsTabs:()=>b});var r=t(5155),s=t(8095),l=t(2115),n=t(3898),o=t(4085),i=t(5007),d=t(3360),c=l.forwardRef((e,a)=>(0,r.jsx)(d.sG.label,{...e,ref:a,onMouseDown:a=>{var t;a.target.closest("button, input, select, textarea")||(null===(t=e.onMouseDown)||void 0===t||t.call(e,a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));c.displayName="Label";var u=t(1027),f=t(9602);let m=(0,u.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),p=l.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(c,{ref:a,className:(0,f.cn)(m(),t),...s})});p.displayName=c.displayName;var h=t(371);let x=(0,t(7401).A)("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);function v(){let e="https://fakeverse-2.onrender.com",a="dchytnqhl",[t,s]=(0,l.useState)(""),[d,c]=(0,l.useState)("/placeholder.svg"),[u,f]=(0,l.useState)(!1),[m,v]=(0,l.useState)(null);(0,l.useEffect)(()=>{let e=localStorage.getItem("username");e&&a&&c("https://res.cloudinary.com/".concat(a,"/image/upload/fakeverse/").concat(e,".png"))},[a]);let g=async a=>{a.preventDefault(),f(!0),v(null);try{let a=localStorage.getItem("token");if(!a)throw Error("Not authenticated");let r=await fetch("".concat(e,"/users/bio"),{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify({bio:t})});if(!r.ok){let e=await r.text();throw Error(e)}v("Bio updated successfully!")}catch(e){console.error(e),v("Error: "+(e.message||e))}finally{f(!1)}};return(0,r.jsx)("form",{onSubmit:g,children:(0,r.jsxs)(i.Zp,{className:"mb-6",children:[(0,r.jsxs)(i.aR,{children:[(0,r.jsx)(i.ZB,{children:"Profile Information"}),(0,r.jsx)(i.BT,{children:"Update your profile and avatar."})]}),(0,r.jsxs)(i.Wu,{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(p,{children:"Profile Picture"}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)(n.eu,{className:"h-24 w-24",children:[(0,r.jsx)(n.BK,{src:d,alt:"You"}),(0,r.jsx)(n.q5,{children:"JD"})]}),(0,r.jsx)("input",{id:"avatar-upload",type:"file",accept:"image/*",onChange:a=>{var t;let r=null===(t=a.target.files)||void 0===t?void 0:t[0];if(!r)return;let s=new FileReader;s.onloadend=async()=>{let a=s.result;c(a);try{let t=localStorage.getItem("token");if(!t)throw Error("Not authenticated");let r=await fetch("".concat(e,"/users/uploadAvatar"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({data:a})});if(!r.ok){let e=await r.text();throw Error(e)}let{secure_url:s}=await r.json();c(s),v("Avatar updated!")}catch(e){console.error(e),v("Upload failed: "+(e.message||e))}},s.readAsDataURL(r)},className:"absolute -bottom-2 -right-2 h-8 w-8 opacity-0 cursor-pointer"}),(0,r.jsx)("label",{htmlFor:"avatar-upload",className:"absolute -bottom-2 -right-2 h-8 w-8 rounded-full bg-white flex items-center justify-center shadow cursor-pointer",children:(0,r.jsx)(x,{className:"h-4 w-4"})})]}),(0,r.jsxs)("div",{className:"text-sm text-muted-foreground",children:[(0,r.jsx)("p",{children:"Upload a new profile picture"}),(0,r.jsx)("p",{children:"JPG, GIF or PNG. 1MB max."})]})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(p,{htmlFor:"bio",children:"Bio"}),(0,r.jsx)(h.T,{id:"bio",name:"bio",value:t,onChange:e=>s(e.target.value),placeholder:"Tell us about yourself",rows:4})]})]}),(0,r.jsxs)(i.wL,{className:"flex flex-col items-start gap-2",children:[(0,r.jsx)(o.$,{type:"submit",disabled:u,children:u?"Saving...":"Save Changes"}),m&&(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:m})]})]})})}var g=t(2336);function w(){let[e,a]=(0,l.useState)(""),[t,s]=(0,l.useState)(""),[n,d]=(0,l.useState)(""),[c,u]=(0,l.useState)(null),[f,m]=(0,l.useState)(null),[h,x]=(0,l.useState)(!1),v=async r=>{if(r.preventDefault(),u(null),m(null),t!==n){u("New passwords do not match");return}x(!0);try{let r=localStorage.getItem("token");if(!r)throw Error("Not authenticated");let l=await fetch("".concat("https://fakeverse-2.onrender.com","/users/changePassword"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)},body:JSON.stringify({oldPassword:e,newPassword:t})});if(!l.ok){let e=await l.text();throw Error(e)}m("Password updated successfully!"),a(""),s(""),d("")}catch(e){u(e.message||"Server error")}finally{x(!1)}};return(0,r.jsx)("div",{className:"space-y-6",children:(0,r.jsxs)(i.Zp,{children:[(0,r.jsxs)(i.aR,{children:[(0,r.jsx)(i.ZB,{children:"Change Password"}),(0,r.jsx)(i.BT,{children:"Update your password to keep your account secure."})]}),(0,r.jsxs)("form",{onSubmit:v,children:[(0,r.jsxs)(i.Wu,{className:"space-y-4",children:[c&&(0,r.jsx)("div",{className:"text-sm text-red-500",children:c}),f&&(0,r.jsx)("div",{className:"text-sm text-green-500",children:f}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(p,{htmlFor:"current-password",children:"Current Password"}),(0,r.jsx)(g.p,{id:"current-password",type:"password",value:e,onChange:e=>a(e.target.value),placeholder:"Enter your current password",required:!0,disabled:h})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(p,{htmlFor:"new-password",children:"New Password"}),(0,r.jsx)(g.p,{id:"new-password",type:"password",value:t,onChange:e=>s(e.target.value),placeholder:"Enter your new password",required:!0,disabled:h})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(p,{htmlFor:"confirm-password",children:"Confirm New Password"}),(0,r.jsx)(g.p,{id:"confirm-password",type:"password",value:n,onChange:e=>d(e.target.value),placeholder:"Confirm your new password",required:!0,disabled:h})]})]}),(0,r.jsx)(i.wL,{children:(0,r.jsx)(o.$,{type:"submit",disabled:h,children:h?"Updating...":"Update Password"})})]})]})})}function b(){return(0,r.jsxs)(s.tU,{defaultValue:"profile",className:"w-full",children:[(0,r.jsxs)(s.j7,{className:"grid grid-cols-2 md:grid-cols-2 w-full",children:[(0,r.jsx)(s.Xi,{value:"profile",children:"Profile"}),(0,r.jsx)(s.Xi,{value:"account",children:"Account"})]}),(0,r.jsx)(s.av,{value:"profile",className:"mt-6",children:(0,r.jsx)(v,{})}),(0,r.jsx)(s.av,{value:"account",className:"mt-6",children:(0,r.jsx)(w,{})})]})}},5007:(e,a,t)=>{"use strict";t.d(a,{BT:()=>d,Wu:()=>c,ZB:()=>i,Zp:()=>n,aR:()=>o,wL:()=>u});var r=t(5155),s=t(2115),l=t(9602);let n=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:a,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...s})});n.displayName="Card";let o=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:a,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",t),...s})});o.displayName="CardHeader";let i=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:a,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",t),...s})});i.displayName="CardTitle";let d=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:a,className:(0,l.cn)("text-sm text-muted-foreground",t),...s})});d.displayName="CardDescription";let c=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:a,className:(0,l.cn)("p-6 pt-0",t),...s})});c.displayName="CardContent";let u=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:a,className:(0,l.cn)("flex items-center p-6 pt-0",t),...s})});u.displayName="CardFooter"},8095:(e,a,t)=>{"use strict";t.d(a,{tU:()=>T,av:()=>D,j7:()=>E,Xi:()=>B});var r=t(5155),s=t(2115),l=t(3610),n=t(8166),o=t(7357),i=t(7028),d=t(3360),c=t(4256),u=t(1488),f=t(7668),m="Tabs",[p,h]=(0,n.A)(m,[o.RG]),x=(0,o.RG)(),[v,g]=p(m),w=s.forwardRef((e,a)=>{let{__scopeTabs:t,value:s,onValueChange:l,defaultValue:n,orientation:o="horizontal",dir:i,activationMode:m="automatic",...p}=e,h=(0,c.jH)(i),[x,g]=(0,u.i)({prop:s,onChange:l,defaultProp:n});return(0,r.jsx)(v,{scope:t,baseId:(0,f.B)(),value:x,onValueChange:g,orientation:o,dir:h,activationMode:m,children:(0,r.jsx)(d.sG.div,{dir:h,"data-orientation":o,...p,ref:a})})});w.displayName=m;var b="TabsList",j=s.forwardRef((e,a)=>{let{__scopeTabs:t,loop:s=!0,...l}=e,n=g(b,t),i=x(t);return(0,r.jsx)(o.bL,{asChild:!0,...i,orientation:n.orientation,dir:n.dir,loop:s,children:(0,r.jsx)(d.sG.div,{role:"tablist","aria-orientation":n.orientation,...l,ref:a})})});j.displayName=b;var y="TabsTrigger",N=s.forwardRef((e,a)=>{let{__scopeTabs:t,value:s,disabled:n=!1,...i}=e,c=g(y,t),u=x(t),f=R(c.baseId,s),m=k(c.baseId,s),p=s===c.value;return(0,r.jsx)(o.q7,{asChild:!0,...u,focusable:!n,active:p,children:(0,r.jsx)(d.sG.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":m,"data-state":p?"active":"inactive","data-disabled":n?"":void 0,disabled:n,id:f,...i,ref:a,onMouseDown:(0,l.m)(e.onMouseDown,e=>{n||0!==e.button||!1!==e.ctrlKey?e.preventDefault():c.onValueChange(s)}),onKeyDown:(0,l.m)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&c.onValueChange(s)}),onFocus:(0,l.m)(e.onFocus,()=>{let e="manual"!==c.activationMode;p||n||!e||c.onValueChange(s)})})})});N.displayName=y;var C="TabsContent",S=s.forwardRef((e,a)=>{let{__scopeTabs:t,value:l,forceMount:n,children:o,...c}=e,u=g(C,t),f=R(u.baseId,l),m=k(u.baseId,l),p=l===u.value,h=s.useRef(p);return s.useEffect(()=>{let e=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,r.jsx)(i.C,{present:n||p,children:t=>{let{present:s}=t;return(0,r.jsx)(d.sG.div,{"data-state":p?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":f,hidden:!s,id:m,tabIndex:0,...c,ref:a,style:{...e.style,animationDuration:h.current?"0s":void 0},children:s&&o})}})});function R(e,a){return"".concat(e,"-trigger-").concat(a)}function k(e,a){return"".concat(e,"-content-").concat(a)}S.displayName=C;var P=t(9602);let T=w,E=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(j,{ref:a,className:(0,P.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...s})});E.displayName=j.displayName;let B=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(N,{ref:a,className:(0,P.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...s})});B.displayName=N.displayName;let D=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(S,{ref:a,className:(0,P.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...s})});D.displayName=S.displayName},371:(e,a,t)=>{"use strict";t.d(a,{T:()=>n});var r=t(5155),s=t(2115),l=t(9602);let n=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("textarea",{className:(0,l.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:a,...s})});n.displayName="Textarea"}},e=>{var a=a=>e(e.s=a);e.O(0,[822,628,441,517,358],()=>a(5831)),_N_E=e.O()}]);