(()=>{var e={};e.id=381,e.ids=[381],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},2412:e=>{"use strict";e.exports=require("assert")},5511:e=>{"use strict";e.exports=require("crypto")},4735:e=>{"use strict";e.exports=require("events")},9021:e=>{"use strict";e.exports=require("fs")},1630:e=>{"use strict";e.exports=require("http")},5591:e=>{"use strict";e.exports=require("https")},3873:e=>{"use strict";e.exports=require("path")},7910:e=>{"use strict";e.exports=require("stream")},9551:e=>{"use strict";e.exports=require("url")},8354:e=>{"use strict";e.exports=require("util")},4075:e=>{"use strict";e.exports=require("zlib")},7012:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d});var t=r(260),a=r(8203),l=r(5155),n=r.n(l),i=r(7292),o={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);r.d(s,o);let d=["",{children:["profile",{children:["[username]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,3317)),"D:\\code\\fakeverse2\\client\\app\\profile\\[username]\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,5886)),"D:\\code\\fakeverse2\\client\\app\\profile\\[username]\\layout.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,9611)),"D:\\code\\fakeverse2\\client\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,9116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,1485,23)),"next/dist/client/components/unauthorized-error"]}],c=["D:\\code\\fakeverse2\\client\\app\\profile\\[username]\\page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},m=new t.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/profile/[username]/page",pathname:"/profile/[username]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},859:(e,s,r)=>{Promise.resolve().then(r.bind(r,3317))},6883:(e,s,r)=>{Promise.resolve().then(r.bind(r,9630))},6487:()=>{},8335:()=>{},9630:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>C});var t=r(5512),a=r(2561),l=r(8009),n=r(1846),i=r(7021),o=r(1372),d=r(1680);let c=(0,d.A)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);var u=r(4494);let m=(0,d.A)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),x=(0,d.A)("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),p=(0,d.A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);var h=r(2952),f=r(1965),v=r(9637),g=r(8531),j=r.n(g);function b({open:e,onOpenChange:s,type:r,followers:a,following:n}){let[i,o]=(0,l.useState)(r);return console.log("followers:",a),console.log("following",n),(0,t.jsx)(f.lG,{open:e,onOpenChange:s,children:(0,t.jsxs)(f.Cf,{className:"sm:max-w-[425px] md:max-w-[600px]",children:[(0,t.jsx)(f.c7,{children:(0,t.jsx)(f.L3,{className:"text-center text-xl",children:"followers"===i?"Followers":"Following"})}),(0,t.jsxs)(v.tU,{defaultValue:r,onValueChange:e=>{o(e)},children:[(0,t.jsxs)(v.j7,{className:"grid w-full grid-cols-2",children:[(0,t.jsx)(v.Xi,{value:"followers",children:"Followers"}),(0,t.jsx)(v.Xi,{value:"following",children:"Following"})]}),(0,t.jsx)(v.av,{value:"followers",className:"max-h-[60vh] overflow-auto",children:a.length?a.map(e=>(0,t.jsxs)(j(),{href:`/profile/${e}`,className:"block py-2",children:["@",e]},e)):(0,t.jsx)("p",{className:"py-8 text-center text-muted-foreground",children:"No followers"})}),(0,t.jsx)(v.av,{value:"following",className:"max-h-[60vh] overflow-auto",children:n.length?n.map(e=>(0,t.jsxs)(j(),{href:`/profile/${e}`,className:"block py-2",children:["@",e]},e)):(0,t.jsx)("p",{className:"py-8 text-center text-muted-foreground",children:"No following"})})]})]})})}function y({username:e,baseUrl:s}){let[r,a]=(0,l.useState)(null),[d,f]=(0,l.useState)(!0),[v,g]=(0,l.useState)(!1),[j,y]=(0,l.useState)(!1),[w,N]=(0,l.useState)("followers"),[k,q]=(0,l.useState)([]),[C,P]=(0,l.useState)([]),A=async()=>{let r=localStorage.getItem("token");r&&(await fetch(`${s}/users/follow`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify({userToFollow:e})}),g(e=>!e))};return d?(0,t.jsx)("div",{className:"mb-6",children:"Loading profile..."}):r?(0,t.jsxs)("div",{className:"mb-6 w-full max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,t.jsx)("div",{className:"relative  md:h-[100px] rounded-t-xl overflow-hidden"}),(0,t.jsxs)("div",{className:"relative px-4 pb-4 -mt-16 md:-mt-20",children:[(0,t.jsxs)("div",{className:"flex flex-col md:flex-row md:items-end md:justify-between",children:[(0,t.jsxs)("div",{className:"flex flex-col md:flex-row md:items-end gap-4",children:[(0,t.jsxs)(n.eu,{className:"h-32 w-32 border-4 border-background",children:[(0,t.jsx)(n.BK,{src:`https://res.cloudinary.com/dchytnqhl/image/upload/fakeverse/${r.username}.png`,alt:r.name}),(0,t.jsx)(n.q5,{children:(()=>{let e=r.name.split(" ");return e.length>1?e[0].charAt(0)+e[1].charAt(0):e[0].charAt(0)})()})]}),(0,t.jsxs)("div",{className:"mt-2 md:mt-0 md:mb-2",style:{transform:"translateY(-15px)"},children:[(0,t.jsx)("h1",{className:"text-2xl font-bold",children:r.name}),(0,t.jsxs)("p",{className:"text-muted-foreground",children:["@",r.username]})]})]}),localStorage.getItem("username")!==e?(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-4 md:mt-0",children:[(0,t.jsxs)(i.$,{variant:"outline",size:"sm",className:"h-9",children:[(0,t.jsx)(o.A,{className:"h-4 w-4 mr-2"}),"Message"]}),(0,t.jsx)(i.$,{size:"sm",className:"h-9",variant:v?"outline":"default",onClick:A,children:v?"Following":(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c,{className:"h-4 w-4 mr-2"}),"Follow"]})}),(0,t.jsxs)(h.rI,{children:[(0,t.jsx)(h.ty,{asChild:!0,children:(0,t.jsxs)(i.$,{variant:"ghost",size:"icon",className:"h-9 w-9",children:[(0,t.jsx)(u.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"More options"})]})}),(0,t.jsxs)(h.SQ,{align:"end",children:[(0,t.jsx)(h._2,{children:"Share profile"}),(0,t.jsx)(h._2,{children:"Block user"}),(0,t.jsx)(h.mB,{}),(0,t.jsx)(h._2,{className:"text-destructive",children:"Report profile"})]})]})]}):null]}),(0,t.jsxs)("div",{className:"mt-4 max-w-2xl",children:[(0,t.jsx)("p",{children:r.bio}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-x-4 gap-y-2 mt-2 text-sm text-muted-foreground",children:[r.location&&(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(m,{className:"h-4 w-4 mr-1"}),r.location]}),r.website&&(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(x,{className:"h-4 w-4 mr-1"}),(0,t.jsx)("a",{href:`https://${r.website}`,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:r.website})]}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(p,{className:"h-4 w-4 mr-1"}),r.joinDate]})]})]}),(0,t.jsxs)("div",{className:"flex gap-4 mt-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-bold",children:r.stats.posts})," ",(0,t.jsx)("span",{className:"text-muted-foreground",children:"Posts"})]}),(0,t.jsxs)("button",{onClick:()=>{N("followers"),y(!0)},className:"hover:underline",children:[(0,t.jsx)("span",{className:"font-bold",children:k.length})," ",(0,t.jsx)("span",{className:"text-muted-foreground",children:"Followers"})]}),(0,t.jsxs)("button",{onClick:()=>{N("following"),y(!0)},className:"hover:underline",children:[(0,t.jsx)("span",{className:"font-bold",children:C.length})," ",(0,t.jsx)("span",{className:"text-muted-foreground",children:"Following"})]})]})]}),(0,t.jsx)(b,{open:j,onOpenChange:y,type:w,followers:k,following:C})]}):(0,t.jsx)("div",{className:"mb-6",children:"Error loading profile."})}var w=r(9334),N=r(4056);function k({baseUrl:e,username:s}){let[r,a]=(0,l.useState)([]),[n,i]=(0,l.useState)(!0),o=e=>{a(s=>s.filter(s=>s.id!==e))};return n?(0,t.jsx)("p",{children:"Loading posts..."}):0===r.length?(0,t.jsx)("p",{children:"No posts available."}):(0,t.jsx)("div",{className:"space-y-4 max-w-3xl w-full max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:r.map(s=>(0,t.jsx)(N.L,{post:s,baseUrl:e,onDelete:o},s.id))})}function q({baseUrl:e,username:s,defaultTab:r="posts"}){let[a,n]=(0,l.useState)(r),i=(0,w.useRouter)(),o=(0,w.useSearchParams)();return(0,t.jsx)(v.tU,{defaultValue:a,value:a,className:"w-full",onValueChange:e=>{n(e);let s=new URLSearchParams(o.toString());s.set("tab",e),i.push(`/profile?${s.toString()}`,{scroll:!1})},children:(0,t.jsx)(v.av,{value:"posts",className:"mt-6",children:(0,t.jsx)(k,{baseUrl:e,username:s})})})}function C({searchParams:e}){let s="http://localhost:5000",r=(0,w.useParams)(),l=Array.isArray(r.username)?r.username[0]:r.username||"";return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[(0,t.jsx)(a.Navbar,{}),(0,t.jsxs)("div",{className:"container mx-auto px-4 py-6",children:[(0,t.jsx)(y,{username:l,baseUrl:s}),(0,t.jsx)(q,{baseUrl:s,username:l,defaultTab:"posts"})]})]})}r(5668)},9637:(e,s,r)=>{"use strict";r.d(s,{tU:()=>S,av:()=>R,j7:()=>_,Xi:()=>M});var t=r(5512),a=r(8009),l=r(1412),n=r(6004),i=r(8305),o=r(8060),d=r(830),c=r(9018),u=r(3024),m=r(96),x="Tabs",[p,h]=(0,n.A)(x,[i.RG]),f=(0,i.RG)(),[v,g]=p(x),j=a.forwardRef((e,s)=>{let{__scopeTabs:r,value:a,onValueChange:l,defaultValue:n,orientation:i="horizontal",dir:o,activationMode:x="automatic",...p}=e,h=(0,c.jH)(o),[f,g]=(0,u.i)({prop:a,onChange:l,defaultProp:n});return(0,t.jsx)(v,{scope:r,baseId:(0,m.B)(),value:f,onValueChange:g,orientation:i,dir:h,activationMode:x,children:(0,t.jsx)(d.sG.div,{dir:h,"data-orientation":i,...p,ref:s})})});j.displayName=x;var b="TabsList",y=a.forwardRef((e,s)=>{let{__scopeTabs:r,loop:a=!0,...l}=e,n=g(b,r),o=f(r);return(0,t.jsx)(i.bL,{asChild:!0,...o,orientation:n.orientation,dir:n.dir,loop:a,children:(0,t.jsx)(d.sG.div,{role:"tablist","aria-orientation":n.orientation,...l,ref:s})})});y.displayName=b;var w="TabsTrigger",N=a.forwardRef((e,s)=>{let{__scopeTabs:r,value:a,disabled:n=!1,...o}=e,c=g(w,r),u=f(r),m=C(c.baseId,a),x=P(c.baseId,a),p=a===c.value;return(0,t.jsx)(i.q7,{asChild:!0,...u,focusable:!n,active:p,children:(0,t.jsx)(d.sG.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":x,"data-state":p?"active":"inactive","data-disabled":n?"":void 0,disabled:n,id:m,...o,ref:s,onMouseDown:(0,l.m)(e.onMouseDown,e=>{n||0!==e.button||!1!==e.ctrlKey?e.preventDefault():c.onValueChange(a)}),onKeyDown:(0,l.m)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&c.onValueChange(a)}),onFocus:(0,l.m)(e.onFocus,()=>{let e="manual"!==c.activationMode;p||n||!e||c.onValueChange(a)})})})});N.displayName=w;var k="TabsContent",q=a.forwardRef((e,s)=>{let{__scopeTabs:r,value:l,forceMount:n,children:i,...c}=e,u=g(k,r),m=C(u.baseId,l),x=P(u.baseId,l),p=l===u.value,h=a.useRef(p);return a.useEffect(()=>{let e=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,t.jsx)(o.C,{present:n||p,children:({present:r})=>(0,t.jsx)(d.sG.div,{"data-state":p?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":m,hidden:!r,id:x,tabIndex:0,...c,ref:s,style:{...e.style,animationDuration:h.current?"0s":void 0},children:r&&i})})});function C(e,s){return`${e}-trigger-${s}`}function P(e,s){return`${e}-content-${s}`}q.displayName=k;var A=r(9462);let S=j,_=a.forwardRef(({className:e,...s},r)=>(0,t.jsx)(y,{ref:r,className:(0,A.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...s}));_.displayName=y.displayName;let M=a.forwardRef(({className:e,...s},r)=>(0,t.jsx)(N,{ref:r,className:(0,A.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...s}));M.displayName=N.displayName;let R=a.forwardRef(({className:e,...s},r)=>(0,t.jsx)(q,{ref:r,className:(0,A.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...s}));R.displayName=q.displayName},1372:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(1680).A)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]])},5886:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>a});var t=r(2740);function a({children:e}){return(0,t.jsx)("div",{children:e})}},3317:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>t});let t=(0,r(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\code\\\\fakeverse2\\\\client\\\\app\\\\profile\\\\[username]\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\code\\fakeverse2\\client\\app\\profile\\[username]\\page.tsx","default")}};var s=require("../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),t=s.X(0,[465,763,168,483,768],()=>r(7012));module.exports=t})();