(()=>{var e={};e.id=974,e.ids=[974],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},2412:e=>{"use strict";e.exports=require("assert")},5511:e=>{"use strict";e.exports=require("crypto")},4735:e=>{"use strict";e.exports=require("events")},9021:e=>{"use strict";e.exports=require("fs")},1630:e=>{"use strict";e.exports=require("http")},5591:e=>{"use strict";e.exports=require("https")},3873:e=>{"use strict";e.exports=require("path")},7910:e=>{"use strict";e.exports=require("stream")},9551:e=>{"use strict";e.exports=require("url")},8354:e=>{"use strict";e.exports=require("util")},4075:e=>{"use strict";e.exports=require("zlib")},4646:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>l.a,__next_app__:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c});var t=r(260),a=r(8203),n=r(5155),l=r.n(n),i=r(7292),o={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);r.d(s,o);let c=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,5104)),"D:\\code\\fakeverse2\\client\\app\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,9611)),"D:\\code\\fakeverse2\\client\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,9116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,1485,23)),"next/dist/client/components/unauthorized-error"]}],d=["D:\\code\\fakeverse2\\client\\app\\page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},m=new t.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},3152:(e,s,r)=>{Promise.resolve().then(r.bind(r,5104))},6704:(e,s,r)=>{Promise.resolve().then(r.bind(r,7421))},7421:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>v});var t=r(5512),a=r(8009),n=r(2561),l=r(8531),i=r.n(l),o=r(7137),c=r(7798),d=r(4520),u=r(1846),m=r(7643),p=r(5668);function x({baseUrl:e}){let[s,r]=(0,a.useState)(null),[n,l]=(0,a.useState)(0),[p,x]=(0,a.useState)(0),[h,g]=(0,a.useState)(0),[f,j]=(0,a.useState)([]),[b,v]=(0,a.useState)(!0),y="dchytnqhl";return b?(0,t.jsx)("div",{className:"space-y-4 sticky top-20",children:(0,t.jsx)("p",{children:"Loading profile..."})}):s?(0,t.jsxs)("div",{className:"space-y-4 sticky top-20",children:[(0,t.jsxs)(m.Zp,{children:[(0,t.jsx)(m.aR,{className:"pb-2",children:(0,t.jsx)(m.ZB,{className:"text-sm font-medium",children:"Profile"})}),(0,t.jsxs)(m.Wu,{className:"grid gap-4",children:[(0,t.jsxs)(i(),{href:`/profile/${s.username}`,className:"flex items-center gap-4",children:[(0,t.jsxs)(u.eu,{className:"h-12 w-12",children:[(0,t.jsx)(u.BK,{src:`https://res.cloudinary.com/${y}/image/upload/fakeverse/${s.username}.png`,alt:`@${s.username}`}),(0,t.jsx)(u.q5,{children:s.username.charAt(0).toUpperCase()})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:s.username}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:["@",s.username]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-2 text-center text-xs",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:h}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Posts"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:n}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Followers"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:p}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Following"})]})]})]})]}),(0,t.jsxs)(m.Zp,{children:[(0,t.jsx)(m.aR,{className:"pb-2",children:(0,t.jsx)(m.ZB,{className:"text-sm font-medium",children:"Navigation"})}),(0,t.jsx)(m.Wu,{children:(0,t.jsxs)("nav",{className:"grid gap-1",children:[(0,t.jsxs)(i(),{href:"/",className:"flex items-center gap-3 rounded-lg px-3 py-2 text-sm transition-all hover:bg-accent",children:[(0,t.jsx)(o.A,{className:"h-4 w-4"}),"Home"]}),(0,t.jsxs)(i(),{href:`/profile/${s.username}`,className:"flex items-center gap-3 rounded-lg px-3 py-2 text-sm transition-all hover:bg-accent",children:[(0,t.jsx)(c.A,{className:"h-4 w-4"}),"Profile"]}),(0,t.jsxs)(i(),{href:"/settings",className:"flex items-center gap-3 rounded-lg px-3 py-2 text-sm transition-all hover:bg-accent",children:[(0,t.jsx)(d.A,{className:"h-4 w-4"}),"Settings"]})]})})]}),(0,t.jsxs)(m.Zp,{children:[(0,t.jsx)(m.aR,{className:"pb-2",children:(0,t.jsx)(m.ZB,{className:"text-sm font-medium",children:"Suggested People"})}),(0,t.jsx)(m.Wu,{children:(0,t.jsx)("div",{className:"space-y-3",children:f.length>0?f.map(e=>(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsxs)("a",{className:"flex items-center gap-2",href:`/profile/${e.username}`,children:[(0,t.jsxs)(u.eu,{className:"h-8 w-8",children:[(0,t.jsx)(u.BK,{src:`https://res.cloudinary.com/${y}/image/upload/fakeverse/${e.username}.png`,alt:e.username}),(0,t.jsx)(u.q5,{children:e.username.charAt(0).toUpperCase()})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:e.username}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:["@",e.username]})]})]})},e.id)):(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"No suggestions available"})})})]})]}):(0,t.jsx)("div",{className:"space-y-4 sticky top-20",children:(0,t.jsx)("p",{children:"Error loading user data."})})}var h=r(7021),g=r(8859),f=r(4056);function j({baseUrl:e}){let[s,r]=(0,a.useState)(""),[n,l]=(0,a.useState)([]),[o,c]=(0,a.useState)("all"),d="dchytnqhl",x=async()=>{let s=localStorage.getItem("token");if(!s)return;let r="all"===o?`${e}/posts/all`:`${e}/posts/all/following/`;try{let e=(await p.A.get(r,{headers:{Authorization:`Bearer ${s}`}})).data.map(e=>({...e,user:{...e.user,avatar:d&&e.user.username?`https://res.cloudinary.com/${d}/image/upload/fakeverse/${e.user.username}.png`:"/placeholder.svg"}}));l(e)}catch(e){console.error("Error fetching posts:",e)}},j=async()=>{if(!s.trim())return;let t=localStorage.getItem("token");if(t)try{await p.A.post(`${e}/posts/new`,{content:s},{headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}}),r(""),x()}catch(e){console.error("Error creating post:",e)}},b=e=>{l(s=>s.filter(s=>s.id!==e))};return(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(h.$,{variant:"all"===o?"default":"outline",onClick:()=>c("all"),children:"All Posts"}),(0,t.jsx)(h.$,{variant:"following"===o?"default":"outline",onClick:()=>c("following"),children:"Following"})]}),(0,t.jsx)(m.Zp,{children:(0,t.jsx)(m.aR,{className:"pb-3",children:(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)(i(),{href:"/profile/",children:(0,t.jsxs)(u.eu,{children:[(0,t.jsx)(u.BK,{src:"/placeholder.svg",alt:"@"}),(0,t.jsx)(u.q5,{children:"".charAt(0).toUpperCase()})]})}),(0,t.jsxs)("div",{className:"grid w-full gap-1.5",children:[(0,t.jsx)(g.T,{placeholder:"What's on your mind?",value:s,onChange:e=>r(e.target.value),className:"min-h-[80px]"}),(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsx)(h.$,{onClick:j,disabled:!s.trim(),children:"Post"})})]})]})})}),(0,t.jsx)("div",{className:"space-y-4",children:n.map(s=>(0,t.jsx)(f.L,{post:s,baseUrl:e,onDelete:b},s.id))})]})}function b({baseUrl:e}){let[s,r]=(0,a.useState)(!0),[n,l]=(0,a.useState)(""),[i,o]=(0,a.useState)("success"),c=e=>{switch(e){case"Username length must be between 3 and 10 characters":return"Username must be between 3 and 10 characters long.";case"Invalid email":return"Please enter a valid email address.";case"Password must be between 5 and 20 characters long":return"Password must be between 5 and 20 characters long.";case"Username has already been taken":return"This username is already in use.";case"Email has already been taken":return"This email address is already in use.";case"Invalid user/password combination":return"The username and password do not match.";default:return e}},d=(e,s,r=!1)=>{l(e),o(s),setTimeout(()=>{l(""),r&&"success"===s&&(window.location.href="/")},1e3)},u=async s=>{s.preventDefault();let r=new FormData(s.currentTarget),t=r.get("username").toLowerCase(),a=r.get("password");try{let s;let r=await fetch(`${e}/users/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:a})});try{s=await r.json()}catch(e){console.error("Parsing error:",e),d("Unexpected response from server.","error");return}r.ok?(localStorage.setItem("token",s.token),localStorage.setItem("username",s.username),d("Login successful!","success",!0)):d(c(s||"Login failed"),"error")}catch(e){console.error("Error during login:",e),d("An error occurred during login.","error")}},m=async s=>{s.preventDefault();let r=new FormData(s.currentTarget),t=r.get("username").toLowerCase(),a=r.get("email").toLowerCase(),n=r.get("password");try{let s;let r=await fetch(`${e}/users/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,email:a,password:n})});try{s=await r.json()}catch(e){console.error("Parsing error:",e),d("Unexpected response from server.","error");return}r.ok?d("Registration successful!","success",!0):d(c(s||"Registration failed"),"error")}catch(e){console.error("Error during registration:",e),d("An error occurred during registration.","error")}};return(0,t.jsxs)("div",{className:"min-h-screen flex flex-col justify-center items-center bg-gray-50 dark:bg-gray-900 relative",children:[n&&(0,t.jsx)("div",{className:`fixed top-4 left-1/2 transform -translate-x-1/2 px-4 py-2 text-white rounded shadow-lg z-50 ${"error"===i?"bg-red-500":"bg-green-500"}`,children:n}),(0,t.jsxs)("div",{className:"w-full max-w-md bg-white dark:bg-gray-800 p-6 rounded shadow-md",children:[s?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Login"}),(0,t.jsxs)("form",{onSubmit:u,children:[(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{className:"block text-gray-700 dark:text-gray-200",children:"Username"}),(0,t.jsx)("input",{type:"text",name:"username",required:!0,className:"w-full px-3 py-2 border rounded",placeholder:"Enter your username"})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{className:"block text-gray-700 dark:text-gray-200",children:"Password"}),(0,t.jsx)("input",{type:"password",name:"password",required:!0,className:"w-full px-3 py-2 border rounded",placeholder:"Enter your password"})]}),(0,t.jsx)("button",{type:"submit",className:"w-full bg-blue-500 text-white px-3 py-2 rounded",children:"Login"})]},"login")]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Register"}),(0,t.jsxs)("form",{onSubmit:m,children:[(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{className:"block text-gray-700 dark:text-gray-200",children:"Username"}),(0,t.jsx)("input",{type:"text",name:"username",required:!0,className:"w-full px-3 py-2 border rounded",placeholder:"Enter your username"})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{className:"block text-gray-700 dark:text-gray-200",children:"Email"}),(0,t.jsx)("input",{type:"email",name:"email",required:!0,className:"w-full px-3 py-2 border rounded",placeholder:"Enter your email"})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{className:"block text-gray-700 dark:text-gray-200",children:"Password"}),(0,t.jsx)("input",{type:"password",name:"password",required:!0,className:"w-full px-3 py-2 border rounded",placeholder:"Enter your password"})]}),(0,t.jsx)("button",{type:"submit",className:"w-full bg-green-500 text-white px-3 py-2 rounded",children:"Register"})]},"register")]}),(0,t.jsx)("div",{className:"mt-4 text-center",children:(0,t.jsx)("button",{onClick:()=>{r(!s)},className:"text-blue-500 hover:underline",children:s?"Don't have an account? Register":"Already have an account? Login"})})]})]})}function v(){let[e,s]=(0,a.useState)(null),r="https://fakeverse-2.onrender.com";return e?(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[(0,t.jsx)(n.Navbar,{}),(0,t.jsxs)("div",{className:"container mx-auto px-4 py-6 grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,t.jsx)("div",{className:"hidden md:block",children:(0,t.jsx)(x,{baseUrl:r})}),(0,t.jsx)("div",{className:"md:col-span-2",children:(0,t.jsx)(j,{baseUrl:r})})]})]}):(0,t.jsx)(b,{baseUrl:r})}},8859:(e,s,r)=>{"use strict";r.d(s,{T:()=>l});var t=r(5512),a=r(8009),n=r(9462);let l=a.forwardRef(({className:e,...s},r)=>(0,t.jsx)("textarea",{className:(0,n.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...s}));l.displayName="Textarea"},5104:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>t});let t=(0,r(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\code\\\\fakeverse2\\\\client\\\\app\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\code\\fakeverse2\\client\\app\\page.tsx","default")}};var s=require("../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),t=s.X(0,[465,763,168,483,768],()=>r(4646));module.exports=t})();