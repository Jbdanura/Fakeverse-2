(()=>{var e={};e.id=662,e.ids=[662],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},3324:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var s=r(260),a=r(8203),n=r(5155),o=r.n(n),i=r(7292),l={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);r.d(t,l);let d=["",{children:["settings",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,5562)),"D:\\code\\fakeverse2\\client\\app\\settings\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,2293)),"D:\\code\\fakeverse2\\client\\app\\settings\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,9611)),"D:\\code\\fakeverse2\\client\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,9116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,1485,23)),"next/dist/client/components/unauthorized-error"]}],c=["D:\\code\\fakeverse2\\client\\app\\settings\\page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/settings/page",pathname:"/settings",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},5673:(e,t,r)=>{Promise.resolve().then(r.bind(r,9808)),Promise.resolve().then(r.bind(r,6480))},8825:(e,t,r)=>{Promise.resolve().then(r.bind(r,2561)),Promise.resolve().then(r.bind(r,4786))},6487:()=>{},8335:()=>{},4786:(e,t,r)=>{"use strict";r.d(t,{SettingsTabs:()=>j});var s=r(5512),a=r(9637),n=r(8009),o=r(1846),i=r(7021),l=r(7643),d=r(830),c=n.forwardRef((e,t)=>(0,s.jsx)(d.sG.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));c.displayName="Label";var u=r(1643),p=r(9462);let f=(0,u.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),m=n.forwardRef(({className:e,...t},r)=>(0,s.jsx)(c,{ref:r,className:(0,p.cn)(f(),e),...t}));m.displayName=c.displayName;var x=r(8859);let h=(0,r(1680).A)("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);function v(){let e="https://fakeverse-2.onrender.com",[t,r]=(0,n.useState)(""),[a,d]=(0,n.useState)("/placeholder.svg"),[c,u]=(0,n.useState)(!1),[p,f]=(0,n.useState)(null),v=async r=>{r.preventDefault(),u(!0),f(null);try{let r=localStorage.getItem("token");if(!r)throw Error("Not authenticated");let s=await fetch(`${e}/users/bio`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify({bio:t})});if(!s.ok){let e=await s.text();throw Error(e)}f("Bio updated successfully!")}catch(e){console.error(e),f("Error: "+(e.message||e))}finally{u(!1)}};return(0,s.jsx)("form",{onSubmit:v,children:(0,s.jsxs)(l.Zp,{className:"mb-6",children:[(0,s.jsxs)(l.aR,{children:[(0,s.jsx)(l.ZB,{children:"Profile Information"}),(0,s.jsx)(l.BT,{children:"Update your profile and avatar."})]}),(0,s.jsxs)(l.Wu,{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(m,{children:"Profile Picture"}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)(o.eu,{className:"h-24 w-24",children:[(0,s.jsx)(o.BK,{src:a,alt:"You"}),(0,s.jsx)(o.q5,{children:"JD"})]}),(0,s.jsx)("input",{id:"avatar-upload",type:"file",accept:"image/*",onChange:t=>{let r=t.target.files?.[0];if(!r)return;let s=new FileReader;s.onloadend=async()=>{let t=s.result;d(t);try{let r=localStorage.getItem("token");if(!r)throw Error("Not authenticated");let s=await fetch(`${e}/users/uploadAvatar`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify({data:t})});if(!s.ok){let e=await s.text();throw Error(e)}let{secure_url:a}=await s.json();d(a),f("Avatar updated!")}catch(e){console.error(e),f("Upload failed: "+(e.message||e))}},s.readAsDataURL(r)},className:"absolute -bottom-2 -right-2 h-8 w-8 opacity-0 cursor-pointer"}),(0,s.jsx)("label",{htmlFor:"avatar-upload",className:"absolute -bottom-2 -right-2 h-8 w-8 rounded-full bg-white flex items-center justify-center shadow cursor-pointer",children:(0,s.jsx)(h,{className:"h-4 w-4"})})]}),(0,s.jsxs)("div",{className:"text-sm text-muted-foreground",children:[(0,s.jsx)("p",{children:"Upload a new profile picture"}),(0,s.jsx)("p",{children:"JPG, GIF or PNG. 1MB max."})]})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(m,{htmlFor:"bio",children:"Bio"}),(0,s.jsx)(x.T,{id:"bio",name:"bio",value:t,onChange:e=>r(e.target.value),placeholder:"Tell us about yourself",rows:4})]})]}),(0,s.jsxs)(l.wL,{className:"flex flex-col items-start gap-2",children:[(0,s.jsx)(i.$,{type:"submit",disabled:c,children:c?"Saving...":"Save Changes"}),p&&(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:p})]})]})})}var g=r(5409);function b(){let[e,t]=(0,n.useState)(""),[r,a]=(0,n.useState)(""),[o,d]=(0,n.useState)(""),[c,u]=(0,n.useState)(null),[p,f]=(0,n.useState)(null),[x,h]=(0,n.useState)(!1),v=async s=>{if(s.preventDefault(),u(null),f(null),r!==o){u("New passwords do not match");return}h(!0);try{let s=localStorage.getItem("token");if(!s)throw Error("Not authenticated");let n=await fetch("https://fakeverse-2.onrender.com/users/changePassword",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify({oldPassword:e,newPassword:r})});if(!n.ok){let e=await n.text();throw Error(e)}f("Password updated successfully!"),t(""),a(""),d("")}catch(e){u(e.message||"Server error")}finally{h(!1)}};return(0,s.jsx)("div",{className:"space-y-6",children:(0,s.jsxs)(l.Zp,{children:[(0,s.jsxs)(l.aR,{children:[(0,s.jsx)(l.ZB,{children:"Change Password"}),(0,s.jsx)(l.BT,{children:"Update your password to keep your account secure."})]}),(0,s.jsxs)("form",{onSubmit:v,children:[(0,s.jsxs)(l.Wu,{className:"space-y-4",children:[c&&(0,s.jsx)("div",{className:"text-sm text-red-500",children:c}),p&&(0,s.jsx)("div",{className:"text-sm text-green-500",children:p}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(m,{htmlFor:"current-password",children:"Current Password"}),(0,s.jsx)(g.p,{id:"current-password",type:"password",value:e,onChange:e=>t(e.target.value),placeholder:"Enter your current password",required:!0,disabled:x})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(m,{htmlFor:"new-password",children:"New Password"}),(0,s.jsx)(g.p,{id:"new-password",type:"password",value:r,onChange:e=>a(e.target.value),placeholder:"Enter your new password",required:!0,disabled:x})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(m,{htmlFor:"confirm-password",children:"Confirm New Password"}),(0,s.jsx)(g.p,{id:"confirm-password",type:"password",value:o,onChange:e=>d(e.target.value),placeholder:"Confirm your new password",required:!0,disabled:x})]})]}),(0,s.jsx)(l.wL,{children:(0,s.jsx)(i.$,{type:"submit",disabled:x,children:x?"Updating...":"Update Password"})})]})]})})}function j(){return(0,s.jsxs)(a.tU,{defaultValue:"profile",className:"w-full",children:[(0,s.jsxs)(a.j7,{className:"grid grid-cols-2 md:grid-cols-2 w-full",children:[(0,s.jsx)(a.Xi,{value:"profile",children:"Profile"}),(0,s.jsx)(a.Xi,{value:"account",children:"Account"})]}),(0,s.jsx)(a.av,{value:"profile",className:"mt-6",children:(0,s.jsx)(v,{})}),(0,s.jsx)(a.av,{value:"account",className:"mt-6",children:(0,s.jsx)(b,{})})]})}},7643:(e,t,r)=>{"use strict";r.d(t,{BT:()=>d,Wu:()=>c,ZB:()=>l,Zp:()=>o,aR:()=>i,wL:()=>u});var s=r(5512),a=r(8009),n=r(9462);let o=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));o.displayName="Card";let i=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...t}));i.displayName="CardHeader";let l=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));l.displayName="CardTitle";let d=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,n.cn)("text-sm text-muted-foreground",e),...t}));d.displayName="CardDescription";let c=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,n.cn)("p-6 pt-0",e),...t}));c.displayName="CardContent";let u=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,n.cn)("flex items-center p-6 pt-0",e),...t}));u.displayName="CardFooter"},9637:(e,t,r)=>{"use strict";r.d(t,{tU:()=>T,av:()=>E,j7:()=>D,Xi:()=>A});var s=r(5512),a=r(8009),n=r(1412),o=r(6004),i=r(8305),l=r(8060),d=r(830),c=r(9018),u=r(3024),p=r(96),f="Tabs",[m,x]=(0,o.A)(f,[i.RG]),h=(0,i.RG)(),[v,g]=m(f),b=a.forwardRef((e,t)=>{let{__scopeTabs:r,value:a,onValueChange:n,defaultValue:o,orientation:i="horizontal",dir:l,activationMode:f="automatic",...m}=e,x=(0,c.jH)(l),[h,g]=(0,u.i)({prop:a,onChange:n,defaultProp:o});return(0,s.jsx)(v,{scope:r,baseId:(0,p.B)(),value:h,onValueChange:g,orientation:i,dir:x,activationMode:f,children:(0,s.jsx)(d.sG.div,{dir:x,"data-orientation":i,...m,ref:t})})});b.displayName=f;var j="TabsList",w=a.forwardRef((e,t)=>{let{__scopeTabs:r,loop:a=!0,...n}=e,o=g(j,r),l=h(r);return(0,s.jsx)(i.bL,{asChild:!0,...l,orientation:o.orientation,dir:o.dir,loop:a,children:(0,s.jsx)(d.sG.div,{role:"tablist","aria-orientation":o.orientation,...n,ref:t})})});w.displayName=j;var y="TabsTrigger",N=a.forwardRef((e,t)=>{let{__scopeTabs:r,value:a,disabled:o=!1,...l}=e,c=g(y,r),u=h(r),p=k(c.baseId,a),f=S(c.baseId,a),m=a===c.value;return(0,s.jsx)(i.q7,{asChild:!0,...u,focusable:!o,active:m,children:(0,s.jsx)(d.sG.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":f,"data-state":m?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:p,...l,ref:t,onMouseDown:(0,n.m)(e.onMouseDown,e=>{o||0!==e.button||!1!==e.ctrlKey?e.preventDefault():c.onValueChange(a)}),onKeyDown:(0,n.m)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&c.onValueChange(a)}),onFocus:(0,n.m)(e.onFocus,()=>{let e="manual"!==c.activationMode;m||o||!e||c.onValueChange(a)})})})});N.displayName=y;var C="TabsContent",P=a.forwardRef((e,t)=>{let{__scopeTabs:r,value:n,forceMount:o,children:i,...c}=e,u=g(C,r),p=k(u.baseId,n),f=S(u.baseId,n),m=n===u.value,x=a.useRef(m);return a.useEffect(()=>{let e=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,s.jsx)(l.C,{present:o||m,children:({present:r})=>(0,s.jsx)(d.sG.div,{"data-state":m?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":p,hidden:!r,id:f,tabIndex:0,...c,ref:t,style:{...e.style,animationDuration:x.current?"0s":void 0},children:r&&i})})});function k(e,t){return`${e}-trigger-${t}`}function S(e,t){return`${e}-content-${t}`}P.displayName=C;var R=r(9462);let T=b,D=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)(w,{ref:r,className:(0,R.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));D.displayName=w.displayName;let A=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)(N,{ref:r,className:(0,R.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));A.displayName=N.displayName;let E=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)(P,{ref:r,className:(0,R.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));E.displayName=P.displayName},8859:(e,t,r)=>{"use strict";r.d(t,{T:()=>o});var s=r(5512),a=r(8009),n=r(9462);let o=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("textarea",{className:(0,n.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...t}));o.displayName="Textarea"},2293:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(2740);function a({children:e}){return(0,s.jsx)("div",{children:e})}},5562:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var s=r(2740),a=r(9808),n=r(6480);function o(){return(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[(0,s.jsx)(a.Navbar,{}),(0,s.jsx)("div",{className:"container mx-auto px-4 py-6",children:(0,s.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"Account Settings"}),(0,s.jsx)(n.SettingsTabs,{})]})})]})}},9808:(e,t,r)=>{"use strict";r.d(t,{Navbar:()=>s});let s=(0,r(6760).registerClientReference)(function(){throw Error("Attempted to call Navbar() from the server but Navbar is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\code\\fakeverse2\\client\\components\\navbar.tsx","Navbar")},6480:(e,t,r)=>{"use strict";r.d(t,{SettingsTabs:()=>s});let s=(0,r(6760).registerClientReference)(function(){throw Error("Attempted to call SettingsTabs() from the server but SettingsTabs is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\code\\fakeverse2\\client\\components\\settings\\settings-tabs.tsx","SettingsTabs")}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[465,763,483],()=>r(3324));module.exports=s})();